var h=(e,a,o)=>new Promise((i,s)=>{var m=t=>{try{n(o.next(t))}catch(r){s(r)}},c=t=>{try{n(o.throw(t))}catch(r){s(r)}},n=t=>t.done?i(t.value):Promise.resolve(t.value).then(m,c);n((o=o.apply(e,a)).next())});import{B as g}from"./BasicTable-bd92faf8.js";import{T as C}from"./componentMap-db59878c.js";import"./TableImg.vue_vue_type_style_index_0_lang-12724fee.js";import{u as T}from"./useTable-810eaf48.js";import{d as _,g as w}from"./menu-75f428b1.js";import{u as S}from"./index-13c024b3.js";import{M as D,c as k,s as y}from"./MenuDrawer-ee7e9bf9.js";import{d as B,q as M,a8 as u,_ as b,$ as F,f as p,aa as d,E,a9 as A,ac as R}from"./vue-625a50e2.js";import{_ as $}from"./index.js";import"./BasicForm-e261a333.js";import"./FormItem.vue_vue_type_script_lang-c8c36622.js";import"./index-1afce7c1.js";import"./index-8f3da8aa.js";import"./antd-d44a863f.js";import"./helper-d16d18bc.js";import"./BasicForm.vue_vue_type_style_index_0_lang-03718be0.js";import"./uniqBy-19b91793.js";import"./index-0a9e2861.js";import"./useWindowSizeFn-6fb3a97e.js";import"./useForm-84c9b2f9.js";import"./RadioButtonGroup-8412b0f8.js";import"./useFormItem-413320fc.js";import"./uuid-31b8b5a4.js";import"./onMountedOrActivated-6a3fbc2b.js";import"./download-3152d4ec.js";import"./base64Conver-39fc0d26.js";import"./index-dfb5c92c.js";import"./IconPicker.vue_vue_type_style_index_0_lang-319d661f.js";import"./useCopyToClipboard-2275284e.js";import"./index-c51e4158.js";import"./sortable.esm-4ae27e0b.js";const x=B({name:"MenuManagement",components:{BasicTable:g,MenuDrawer:D,TableAction:C},setup(){const[e,{openDrawer:a}]=S(),[o,{reload:i,expandAll:s}]=T({title:"菜单列表",api:w,columns:k,formConfig:{labelWidth:120,schemas:y},isTreeTable:!0,pagination:!1,striped:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:80,title:"操作",dataIndex:"action",fixed:void 0}});function m(){a(!0,{isUpdate:!1})}function c(l){a(!0,{record:l,isUpdate:!0})}function n(l){return h(this,null,function*(){try{yield _({id:l.id})}finally{i()}})}function t(){i()}function r(){M(s)}return{registerTable:o,registerDrawer:e,handleCreate:m,handleEdit:c,handleDelete:n,handleSuccess:t,onFetchSuccess:r}}});function v(e,a,o,i,s,m){const c=u("a-button"),n=u("TableAction"),t=u("BasicTable"),r=u("MenuDrawer");return b(),F("div",null,[p(t,{onRegister:e.registerTable,onFetchSuccess:e.onFetchSuccess},{toolbar:d(()=>[p(c,{type:"primary",onClick:e.handleCreate},{default:d(()=>[E(" 新增菜单 ")]),_:1},8,["onClick"])]),bodyCell:d(({column:l,record:f})=>[l.key==="action"?(b(),A(n,{key:0,actions:[{icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,f)},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:e.handleDelete.bind(null,f)}}]},null,8,["actions"])):R("",!0)]),_:1},8,["onRegister","onFetchSuccess"]),p(r,{onRegister:e.registerDrawer,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}const de=$(x,[["render",v]]);export{de as default};
