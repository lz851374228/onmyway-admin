var d=(t,s,e)=>new Promise((c,F)=>{var l=u=>{try{o(e.next(u))}catch(n){F(n)}},i=u=>{try{o(e.throw(u))}catch(n){F(n)}},o=u=>u.done?c(u.value):Promise.resolve(u.value).then(l,i);o((e=e.apply(t,s)).next())});import{P as B}from"./index-dd53ef4b.js";import{a4 as f,_ as C}from"./index.js";import{t as D}from"./account-728ff1b2.js";import{a8 as m}from"./antd-d44a863f.js";import{d as E,a8 as p,_ as A,a9 as g,aa as a,f as r,E as _,a0 as k}from"./vue-625a50e2.js";import"./useContentViewHeight-52d56a6c.js";import"./useWindowSizeFn-6fb3a97e.js";import"./onMountedOrActivated-6a3fbc2b.js";const y=E({name:"TestSessionTimeout",components:{ACardGrid:m.Grid,ACard:m,PageWrapper:B},setup(){const t=f();function s(){return d(this,null,function*(){t.setToken(void 0),t.setSessionTimeout(!0)})}function e(){return d(this,null,function*(){try{yield D()}catch(c){console.log("接口访问错误：",c.message||"错误")}})}return{test1:s,test2:e}}}),x=k("span",null,null,-1);function h(t,s,e,c,F,l){const i=p("a-button"),o=p("a-card-grid"),u=p("a-card"),n=p("PageWrapper");return A(),g(n,{title:"登录过期示例",content:"用户登录过期示例，不再跳转登录页，直接生成页面覆盖当前页面，方便保持过期前的用户状态！"},{default:a(()=>[r(u,{title:"请点击下面的按钮访问测试接口",extra:"所访问的接口会返回Token过期响应"},{default:a(()=>[r(o,{style:{width:"50%","text-align":"center"}},{default:a(()=>[r(i,{type:"primary",onClick:t.test1},{default:a(()=>[_("HttpStatus == 401")]),_:1},8,["onClick"])]),_:1}),r(o,{style:{width:"50%","text-align":"center"}},{default:a(()=>[x,r(i,{class:"ml-4",type:"primary",onClick:t.test2},{default:a(()=>[_("Response.code == 401")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const v=C(y,[["render",h]]);export{v as default};
