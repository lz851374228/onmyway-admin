var J=Object.defineProperty,x=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(e,o,t)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,m=(e,o)=>{for(var t in o||(o={}))k.call(o,t)&&f(e,t,o[t]);if(u)for(var t of u(o))w.call(o,t)&&f(e,t,o[t]);return e},_=(e,o)=>x(e,g(o));import{C as $,M}from"./index-44546e2d.js";import{u as B}from"./useCopyToClipboard-2275284e.js";import{a6 as D,_ as F}from"./index.js";import{d as N,r as R,H as A,u as O,a8 as b,_ as P,$ as S,a0 as C,f as d,aa as v,E as y}from"./vue-625a50e2.js";import"./antd-d44a863f.js";import"./useWindowSizeFn-6fb3a97e.js";const V=N({name:"PreviewCode",components:{CodeEditor:$},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=R({visible:!1}),t=(s,E=`file.${e.fileFormat}`)=>{let p="data:text/csv;charset=utf-8,";p+=s;const h=encodeURI(p),r=document.createElement("a");r.setAttribute("href",h),r.setAttribute("download",E),r.click()},i=()=>{t(e.editorJson)},{clipboardRef:c,copiedRef:l}=B(),{createMessage:a}=D(),n=()=>{const s=e.editorJson;if(!s){a.warning("代码为空！");return}c.value=s,O(l)&&a.warning("复制成功！")};return _(m({},A(o)),{exportData:t,handleCopyJson:n,handleExportJson:i,MODE:M})}});const j={class:"v-json-box"},I={class:"copy-btn-box"};function T(e,o,t,i,c,l){const a=b("CodeEditor"),n=b("a-button");return P(),S("div",null,[C("div",j,[d(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),C("div",I,[d(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:v(()=>[y(" 复制数据 ")]),_:1},8,["onClick","data-clipboard-text"]),d(n,{onClick:e.handleExportJson,type:"primary"},{default:v(()=>[y("导出代码")]),_:1},8,["onClick"])])])}const Q=F(V,[["render",T],["__scopeId","data-v-629b1b9b"]]);export{Q as default};
