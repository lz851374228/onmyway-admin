var u=(t,m,o)=>new Promise((l,n)=>{var p=e=>{try{a(o.next(e))}catch(i){n(i)}},s=e=>{try{a(o.throw(e))}catch(i){n(i)}},a=e=>e.done?l(e.value):Promise.resolve(e.value).then(p,s);a((o=o.apply(t,m)).next())});import{B as T}from"./BasicTable-bd92faf8.js";import{T as g}from"./componentMap-db59878c.js";import"./TableImg.vue_vue_type_style_index_0_lang-12724fee.js";import{u as _}from"./useTable-810eaf48.js";import{a as b,d as C}from"./template-c6c55654.js";import{u as B}from"./index-0a9e2861.js";import{T as M,c as S,s as w}from"./TemplateModal-78f9806c.js";import{u as k,_ as $}from"./index.js";import{d as y,a8 as d,_ as f,$ as A,f as h,aa as R,a9 as v,ac as x}from"./vue-625a50e2.js";import"./BasicForm-e261a333.js";import"./FormItem.vue_vue_type_script_lang-c8c36622.js";import"./index-1afce7c1.js";import"./index-8f3da8aa.js";import"./antd-d44a863f.js";import"./helper-d16d18bc.js";import"./BasicForm.vue_vue_type_style_index_0_lang-03718be0.js";import"./uniqBy-19b91793.js";import"./useForm-84c9b2f9.js";import"./RadioButtonGroup-8412b0f8.js";import"./useFormItem-413320fc.js";import"./uuid-31b8b5a4.js";import"./useWindowSizeFn-6fb3a97e.js";import"./onMountedOrActivated-6a3fbc2b.js";import"./download-3152d4ec.js";import"./base64Conver-39fc0d26.js";import"./index-dfb5c92c.js";import"./IconPicker.vue_vue_type_style_index_0_lang-319d661f.js";import"./useCopyToClipboard-2275284e.js";import"./index-c51e4158.js";import"./sortable.esm-4ae27e0b.js";import"./role-91c3552f.js";import"./dict-b4d68b90.js";const D=y({name:"TemplateManagement",components:{BasicTable:T,TemplateModal:M,TableAction:g},setup(){const t=k(),[m,{openModal:o}]=B(),[l,{reload:n}]=_({title:"模板列表",api:b,columns:S,formConfig:{labelWidth:120,schemas:w},useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:220,title:"操作",dataIndex:"action",fixed:void 0}});function p(){o(!0,{isUpdate:!1})}function s(r){o(!0,{record:r,isUpdate:!0})}function a(r){t("/form/template/design?id="+r.id)}function e(r){t("/form/template/write?form_template_id="+r.id)}function i(r){return u(this,null,function*(){yield C({id:r.id}),c()})}function c(){n()}return{registerTable:l,registerModal:m,handleCreate:p,handleEdit:s,handleDesign:a,handleWrite:e,handleDelete:i,handleSuccess:c}}});function E(t,m,o,l,n,p){const s=d("TableAction"),a=d("BasicTable"),e=d("TemplateModal");return f(),A("div",null,[h(a,{onRegister:t.registerTable},{bodyCell:R(({column:i,record:c})=>[i.key==="action"?(f(),v(s,{key:0,actions:[{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:t.handleDelete.bind(null,c)}}]},null,8,["actions"])):x("",!0)]),_:1},8,["onRegister"]),h(e,{onRegister:t.registerModal,onSuccess:t.handleSuccess},null,8,["onRegister","onSuccess"])])}const ue=$(D,[["render",E]]);export{ue as default};
