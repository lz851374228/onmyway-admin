var Q=Object.defineProperty,J=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(n,t,s)=>t in n?Q(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,M=(n,t)=>{for(var s in t||(t={}))q.call(t,s)&&B(n,s,t[s]);if(L)for(var s of L(t))H.call(t,s)&&B(n,s,t[s]);return n},I=(n,t)=>J(n,U(t));var b=(n,t,s)=>new Promise((c,i)=>{var h=d=>{try{m(s.next(d))}catch(_){i(_)}},u=d=>{try{m(s.throw(d))}catch(_){i(_)}},m=d=>d.done?c(d.value):Promise.resolve(d.value).then(h,u);m((s=s.apply(n,t)).next())});import{p as z,o as K,aL as k,a1 as X,a8 as Y,a6 as Z}from"./index.js";import{B as ee}from"./BasicForm-e261a333.js";import"./componentMap-db59878c.js";import{u as te}from"./useForm-84c9b2f9.js";import"./RadioButtonGroup-8412b0f8.js";import{k as g,d as E,e as O,o as ae,_ as F,$ as oe,a0 as C,f as a,u as e,aa as o,R as se,ad as ne,G as re,E as w,a2 as ie,a1 as le,a9 as pe}from"./vue-625a50e2.js";import{am as P,a8 as $,bh as ce,W as D,aQ as ue,bi as de,ak as me,aI as fe,bj as ge,bk as he,ao as _e}from"./antd-d44a863f.js";import{P as ve}from"./index-dd53ef4b.js";import{d as ye}from"./table-9286518d.js";import"./FormItem.vue_vue_type_script_lang-c8c36622.js";import"./index-1afce7c1.js";import"./index-8f3da8aa.js";import"./helper-d16d18bc.js";import"./BasicForm.vue_vue_type_style_index_0_lang-03718be0.js";import"./uniqBy-19b91793.js";import"./index-0a9e2861.js";import"./useWindowSizeFn-6fb3a97e.js";import"./useFormItem-413320fc.js";import"./uuid-31b8b5a4.js";import"./download-3152d4ec.js";import"./base64Conver-39fc0d26.js";import"./index-dfb5c92c.js";import"./IconPicker.vue_vue_type_style_index_0_lang-319d661f.js";import"./useCopyToClipboard-2275284e.js";import"./index-c51e4158.js";import"./useContentViewHeight-52d56a6c.js";import"./onMountedOrActivated-6a3fbc2b.js";const y=g(12),Ce=(n=6,t=12)=>({min:n,max:t,marks:(()=>{const c={};for(let i=n;i<t+1;i++)c[i]={style:{color:"#fff"},label:i};return c})(),step:1}),be={class:"p-2"},ke={class:"p-4 mb-2 bg-white"},we={class:"p-2 bg-white"},xe={class:"flex justify-end space-x-2"},Me=C("div",{class:"w-50"},"每行显示数量",-1),Se=E({__name:"CardList",props:{params:z.object.def({}),api:z.func},emits:["getMethod","delete"],setup(n,{emit:t}){const s=n,c=P.Item,i=$.Meta,h=ce.Text,u=O(()=>Ce(4)),m=g([]),d=O(()=>`h-${120-y.value*6}`),[_,{validate:R}]=te({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:j});function j(){return b(this,null,function*(){const r=yield R();yield f(r)})}function N(r){v.value=r*4,f()}ae(()=>{f(),t("getMethod",f)});function f(){return b(this,arguments,function*(r={}){const{api:l,params:p}=s;if(l&&K(l)){const T=yield l(M(I(M({},p),{page:x.value,pageSize:v.value}),r));m.value=T.items,S.value=T.total}})}const x=g(1),v=g(36),S=g(0),V=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:x,total:S,showTotal:r=>`总 ${r} 条`,onChange:W,onShowSizeChange:A});function W(r,l){x.value=r,v.value=l,f()}function A(r,l){v.value=l,f()}function G(r){return b(this,null,function*(){t("delete",r)})}return(r,l)=>(F(),oe("div",be,[C("div",ke,[a(e(ee),{onRegister:e(_)},null,8,["onRegister"])]),C("div",we,[a(e(P),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:e(y)},"data-source":m.value,pagination:V.value},{header:o(()=>[C("div",xe,[se(r.$slots,"header"),a(e(D),null,{title:o(()=>[Me,a(e(ue),ne({id:"slider"},u.value,{value:e(y),"onUpdate:value":l[0]||(l[0]=p=>re(y)?y.value=p:null),onChange:N}),null,16,["value"])]),default:o(()=>[a(e(k),null,{default:o(()=>[a(e(de))]),_:1})]),_:1}),a(e(D),{onClick:f},{title:o(()=>[w("刷新")]),default:o(()=>[a(e(k),null,{default:o(()=>[a(e(me))]),_:1})]),_:1})])]),renderItem:o(({item:p})=>[a(e(c),null,{default:o(()=>[a(e($),null,{title:o(()=>[]),cover:o(()=>[C("div",{class:ie(d.value)},[a(e(fe),{src:p.imgs[0]},null,8,["src"])],2)]),actions:o(()=>[a(e(ge),{key:"edit"}),a(e(X),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:G.bind(null,p.id)}}],popconfirm:""},{default:o(()=>[a(e(he),{key:"ellipsis"})]),_:2},1032,["dropMenuList"])]),default:o(()=>[a(e(i),null,{title:o(()=>[a(e(h),{content:p.name,ellipsis:{tooltip:p.address}},null,8,["content","ellipsis"])]),avatar:o(()=>[a(e(_e),{src:p.avatar},null,8,["src"])]),description:o(()=>[w(le(p.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])]))}}),Te=Y(Se),at=E({__name:"index",setup(n){const{notification:t}=Z(),s={};let c=()=>{};function i(u){c=u}function h(u){console.log(u),t.success({message:`成功删除${u}`}),c()}return(u,m)=>(F(),pe(e(ve),{title:"卡片列表示例",content:"基础封装"},{default:o(()=>[a(e(Te),{params:s,api:e(ye),onGetMethod:i,onDelete:h},{header:o(()=>[a(e(k),{type:"primary",color:"error"},{default:o(()=>[w(" 按钮1 ")]),_:1}),a(e(k),{type:"primary",color:"success"},{default:o(()=>[w(" 按钮2 ")]),_:1})]),_:1},8,["api"])]),_:1}))}});export{at as default};
